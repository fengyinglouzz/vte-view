webpackJsonp([15],{553:function(t,e,a){a(865);var s=a(214)(a(715),a(946),null,null);t.exports=s.exports},556:function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"a",function(){return r}),a.d(e,"d",function(){return d}),a.d(e,"c",function(){return l});var s=a(216),i=(a.n(s),a(212)),n=a.n(i),o=function(t,e){t&&("string"!=typeof e&&(e=n()(e)),window.localStorage.setItem(t,e))},r=function(t){if(t)return window.localStorage.getItem(t)},c={},d=function(t,e){t&&("string"!=typeof e&&(e=n()(e)),sessionStorage?sessionStorage.setItem(t,e):c[t]=e)},l=function(t){if(t)return sessionStorage?sessionStorage.getItem(t):c[t]}},557:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var s=a(212),i=a.n(s),n=a(556),o=a(213),r=function(t){return null==t||("{}"==i()(t)||'"{}"'==i()(t))},c=function(t){var e=a.i(n.a)("DICT_CACHE");if(r(e)){var s=a.i(o.e)();if(r(s)){var i=JSON.parse('{"doctorAdviceResult":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"doctor_advice_result","dictName":"医嘱处理诊断结果","orgId":1,"dictDataName":"PTE"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"doctor_advice_result","dictName":"医嘱处理诊断结果","orgId":1,"dictDataName":"DVT"}],"patientSynGrade":[],"dvtAdviceIshistory":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"dvt_advice_ishistory","dictName":"DVT诊断流程建议是否历史","orgId":1,"dictDataName":"是"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"dvt_advice_ishistory","dictName":"DVT诊断流程建议是否历史","orgId":1,"dictDataName":"否"}],"assessmentResult":[{"dictInternational":"zh_CN","dictDataValue":"3","dictCode":"assessment_result","dictName":"风险评估结果","orgId":1,"dictDataName":"高危"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"assessment_result","dictName":"风险评估结果","orgId":1,"dictDataName":"中危"},{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"assessment_result","dictName":"风险评估结果","orgId":1,"dictDataName":"低危"}],"assessmentType":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"assessment_type","dictName":"风险评估类型","orgId":1,"dictDataName":"VTE风险评估"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"assessment_type","dictName":"风险评估类型","orgId":1,"dictDataName":"出血风险评估"},{"dictInternational":"zh_CN","dictDataValue":"3","dictCode":"assessment_type","dictName":"风险评估类型","orgId":1,"dictDataName":"预防禁忌评估"},{"dictInternational":"zh_CN","dictDataValue":"4","dictCode":"assessment_type","dictName":"风险评估类型","orgId":1,"dictDataName":"DVT疑诊"},{"dictInternational":"zh_CN","dictDataValue":"5","dictCode":"assessment_type","dictName":"风险评估类型","orgId":1,"dictDataName":"PTE疑诊"},{"dictInternational":"zh_CN","dictDataValue":"6","dictCode":"assessment_type","dictName":"风险评估类型","orgId":1,"dictDataName":"诊断结果及医嘱"}],"patientCapriniGrade":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"patient_caprini_grade","dictName":"患者数据Caprini风险等级","orgId":1,"dictDataName":"低危"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"patient_caprini_grade","dictName":"患者数据Caprini风险等级","orgId":1,"dictDataName":"中危"},{"dictInternational":"zh_CN","dictDataValue":"3","dictCode":"patient_caprini_grade","dictName":"患者数据Caprini风险等级","orgId":1,"dictDataName":"高危"}],"patientPaduaGrade":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"patient_padua_grade","dictName":"患者数据Padua风险等级","orgId":1,"dictDataName":"低危"},{"dictInternational":"zh_CN","dictDataValue":"3","dictCode":"patient_padua_grade","dictName":"患者数据Padua风险等级","orgId":1,"dictDataName":"高危"}],"doctorAdviceRisk":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"doctor_advice_risk","dictName":"风险预防f措施","orgId":1,"dictDataName":"一般预防"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"doctor_advice_risk","dictName":"风险预防f措施","orgId":1,"dictDataName":"药物预防"},{"dictInternational":"zh_CN","dictDataValue":"3","dictCode":"doctor_advice_risk","dictName":"风险预防f措施","orgId":1,"dictDataName":"机械预防"}],"patientIsRisk":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"patient_is_risk","dictName":"已完成VTE风险评","orgId":1,"dictDataName":"是"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"patient_is_risk","dictName":"已完成VTE风险评","orgId":1,"dictDataName":"否"}],"assessmentItem":[{"dictInternational":"zh_CN","dictDataValue":"8","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"简化Wells评分"},{"dictInternational":"zh_CN","dictDataValue":"9","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"修订版Geneva评分"},{"dictInternational":"zh_CN","dictDataValue":"10","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"医嘱处理"},{"dictInternational":"zh_CN","dictDataValue":"7","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"Wells评分"},{"dictInternational":"zh_CN","dictDataValue":"6","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"机械预防禁忌评估"},{"dictInternational":"zh_CN","dictDataValue":"5","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"药物预防禁忌评估"},{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"Caprini评分"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"Padua评分"},{"dictInternational":"zh_CN","dictDataValue":"3","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"外科出血风险评估"},{"dictInternational":"zh_CN","dictDataValue":"4","dictCode":"assessment_item","dictName":"风险评估项目","orgId":1,"dictDataName":"内科出血风险评估"}],"assessmentStage":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"assessment_stage","dictName":"风险评估阶段","orgId":1,"dictDataName":"入院"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"assessment_stage","dictName":"风险评估阶段","orgId":1,"dictDataName":"术后"},{"dictInternational":"zh_CN","dictDataValue":"3","dictCode":"assessment_stage","dictName":"风险评估阶段","orgId":1,"dictDataName":"转科室"},{"dictInternational":"zh_CN","dictDataValue":"4","dictCode":"assessment_stage","dictName":"风险评估阶段","orgId":1,"dictDataName":"动态"}],"rolePower":[{"dictInternational":"zh_CN","dictDataValue":"1","dictCode":"role_power","dictName":"角色数据权限","orgId":1,"dictDataName":"全部"},{"dictInternational":"zh_CN","dictDataValue":"2","dictCode":"role_power","dictName":"角色数据权限","orgId":1,"dictDataName":"本科室"}]}');return a.i(n.b)("DICT_CACHE",i),i}return a.i(n.b)("DICT_CACHE",s),s}return JSON.parse(e)}},559:function(t,e,a){"use strict";var s={};s.M1="/patient",s.M2="/monitor",s.M3="/qualityControl",s.M4_001="/manage",s.M4_002="/systemRole",s.M4_003="/systemOrg",s.M4_004="/systemDict",s.M4_005="/vteModel",s.M4_006="/vteAssessmentDict",s.M4_007="/systemDictData",s.M4_008="/vteDepartment";var i={"1-001-001-001":"caprini","1-001-001-002":"padua","1-001-002-001":"surgery","1-001-002-002":"internalMedicine","1-001-003-001":"drugPrevention","1-001-003-002":"mechanicalPrecaution","1-002-001-001":"wellsDVT","1-002-001-002":"diagnosticProcessDVT","1-002-002-001":"wellsPTE","1-002-002-002":"geneva","1-002-002-003":"diagnosticProcessPTE","1-002-003-001":"doctorAdvice"};e.a={routernextpath:s,systemRootCode:"4",patientRootCode:"1",capriniDictValue:"1",paduaDictValue:"2",surgeryDictValue:"3",internalMedicineDictValue:"4",drugPreventionDictValue:"5",mechanicalPrecautionDictValue:"6",wellsDVTDictValue:"7",wellsPTEDictValue:"8",genevaDictValue:"9",doctorAdviceDictValue:"10",patientQueryIndex:i,capriniModelCode:"1-001-001-001",paduaModelCode:"1-001-001-002",surgeryModelCode:"1-001-002-001",internalMedicineModelCode:"1-001-002-002",drugPreventionModelCode:"1-001-003-001",mechanicalPrecautionModelCode:"1-001-003-002",wellsDVTModelCode:"1-002-001-001",wellsPTEModelCode:"1-002-002-001",genevaModelCode:"1-002-002-002",doctorAdviceModelCode:"1-002-003-001"}},561:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(215);e.default={data:function(){return{baseImgPath:s.b}}}},562:function(t,e,a){e=t.exports=a(524)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}[class^=el-icon-]{font-size:13px}.el-form-item{margin-bottom:15px}.el-input__inner{height:34px}.noBorderWrap .el-input__inner{border:none}.scoreHead,.scoreHeadRight{border:1px solid #324157;text-align:center;padding:5px 0;font-size:14px;margin-right:-1px}.leftRift{padding:5px 5px 10px 10px}.leftRift .el-checkbox{display:block}.leftRift .el-checkbox+.el-checkbox{margin-left:0}.leftRift .el-checkbox span.el-checkbox__label{word-break:normal;width:auto;display:-ms-inline-grid;display:inline-grid;white-space:pre-line;word-wrap:break-word;overflow:hidden;line-height:14px}.scoreBottom{border-bottom:1px solid #324157;width:100%;margin-bottom:15px}.scoreCenter{width:30%;margin-left:40%;color:#324157}.btnRightRift{margin-right:20px}.el-table th>.cell{line-height:18px;text-align:center;padding:5px}.el-dialog--small{width:auto;min-width:30%}.el-checkbox__input.is-disabled+.el-checkbox__label{color:#324157;opacity:.7}.el-form-item__error{padding-top:2px}.header_container{background-color:#fff;border-bottom:1px solid #d1dbe5;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px;margin:0 20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},563:function(t,e,a){var s=a(562);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(525)("3223dcfa",s,!0)},564:function(t,e,a){a(563);var s=a(214)(a(561),a(565),null,null);t.exports=s.exports},565:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},t._l(t.$route.meta.menuTitle,function(e,s){return a("el-breadcrumb-item",{key:s,attrs:{index:e.path}},[t._v(t._s(e))])}),1)],1)},staticRenderFns:[]}},715:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(145),i=a.n(s),n=a(212),o=a.n(n),r=a(146),c=a.n(r),d=a(144),l=a.n(d),m=a(564),u=a.n(m),p=a(215),h=a(556),_=a(559),D=(a(557),a(213));e.default={inject:["reload"],data:function(){return{baseUrl:p.a,baseImgPath:p.b,patientHospitId:this.$route.query.patientHospitId,wellsDVTForm:{patientHospitId:this.$route.query.patientHospitId,assessmentScore:0,assessmentResult:"",assessmentResultExplain:"低度"},assessmentDictList:{},dictPojoLists:[],notesData:[]}},components:{headTop:u.a},created:function(){this.getAssessmentDictList(),this.notesTable()},methods:{getAssessmentDictList:function(){var t=this,e=a.i(h.c)("LOGIN_USER"),s=JSON.parse(e),i=s.loginAssessmentDictPojoList;null!=i&&i.length>0&&i.forEach(function(e,a){if(e.assessmentItem==_.a.wellsDVTDictValue){var s=e.loginAssessmentDictPojoList;null!=s&&s.length>0&&s.forEach(function(e,a){t.assessmentDictList[e.assessmentDictScore]||(t.assessmentDictList[e.assessmentDictScore]=[]),t.assessmentDictList[e.assessmentDictScore].push({label:e.assessmentDictName,value:e.assessmentDictCode,score:e.assessmentDictScore,index:a})})}})},saveInfo:function(){var t=this;this.$refs.wellsDVTForm.validate(function(){var e=l()(i.a.mark(function e(s){var n,r,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=17;break}return n=c()({},t.wellsDVTForm),e.prev=2,n.modelCode=_.a.wellsDVTModelCode,n.assessmentSelectData=t.dictPojoLists.join(","),r=o()(n),e.next=8,a.i(D._10)({jsonString:r});case 8:d=e.sent,1==d.status?(console.log(d),t.$message({type:"success",message:"保存成功"}),t.claerFrom()):t.$message({type:"error",message:d.message}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:e.next=19;break;case 17:return t.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,t,[[2,12]])}));return function(t){return e.apply(this,arguments)}}()),this.reload(),this.$router.go(-1)},cancel:function(){this.reload(),this.$router.go(-1)},automaticCheckout:function(){var t=this;return l()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(D._11)({modelCode:_.a.wellsDVTModelCode,patientHospitId:t.$route.query.patientHospitId});case 2:s=e.sent,t.wellsDVTForm.assessmentResult=s.assessmentResult,t.wellsDVTForm.assessmentScore=s.assessmentScore,t.wellsDVTForm.assessmentScore<=0?(t.wellsDVTForm.assessmentResult="1",t.wellsDVTForm.assessmentResultExplain="低度"):t.wellsDVTForm.assessmentScore>=1&&t.wellsDVTForm.assessmentScore<=2?(t.wellsDVTForm.assessmentResult="2",t.wellsDVTForm.assessmentResultExplain="中度"):t.wellsDVTForm.assessmentScore>=3&&(t.wellsDVTForm.assessmentResult="3",t.wellsDVTForm.assessmentResultExplain="高度"),t.dictPojoLists=[],s.assessmentSelectData&&(t.dictPojoLists=s.assessmentSelectData.split(","));case 8:case"end":return e.stop()}},e,t)}))()},notesTable:function(){var t=this;return l()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(D._12)({modelCode:_.a.wellsDVTModelCode});case 2:s=e.sent,t.notesData=[],s.forEach(function(e){var a={};a.riskScoreName=e.riskScoreName,a.riskScoreRate=e.riskScoreRate,a.riskScoreShowText=e.riskScoreShowText,t.notesData.push(a)});case 5:case"end":return e.stop()}},e,t)}))()},checkinlist:function(t){var e=this,a=this.dictPojoLists.join(",");if(this.wellsDVTForm.assessmentScore=0,null!=this.assessmentDictList)for(var s in this.assessmentDictList){var i=this.assessmentDictList[s];i.forEach(function(t,i){(","+a+",").indexOf(","+t.value+",")>=0&&(e.wellsDVTForm.assessmentScore=e.wellsDVTForm.assessmentScore+Number(s))})}this.wellsDVTForm.assessmentScore<=0?(this.wellsDVTForm.assessmentResult="1",this.wellsDVTForm.assessmentResultExplain="低度"):this.wellsDVTForm.assessmentScore>=1&&this.wellsDVTForm.assessmentScore<=2?(this.wellsDVTForm.assessmentResult="2",this.wellsDVTForm.assessmentResultExplain="中度"):this.wellsDVTForm.assessmentScore>=3&&(this.wellsDVTForm.assessmentResult="3",this.wellsDVTForm.assessmentResultExplain="高度")}}}},730:function(t,e,a){e=t.exports=a(524)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}[class^=el-icon-]{font-size:13px}.el-form-item{margin-bottom:15px}.el-input__inner{height:34px}.noBorderWrap .el-input__inner{border:none}.scoreHead,.scoreHeadRight{border:1px solid #324157;text-align:center;padding:5px 0;font-size:14px;margin-right:-1px}.leftRift{padding:5px 5px 10px 10px}.leftRift .el-checkbox{display:block}.leftRift .el-checkbox+.el-checkbox{margin-left:0}.leftRift .el-checkbox span.el-checkbox__label{word-break:normal;width:auto;display:-ms-inline-grid;display:inline-grid;white-space:pre-line;word-wrap:break-word;overflow:hidden;line-height:14px}.scoreBottom{border-bottom:1px solid #324157;width:100%;margin-bottom:15px}.scoreCenter{width:30%;margin-left:40%;color:#324157}.btnRightRift{margin-right:20px}.el-table th>.cell{line-height:18px;text-align:center;padding:5px}.el-dialog--small{width:auto;min-width:30%}.el-checkbox__input.is-disabled+.el-checkbox__label{color:#324157;opacity:.7}.el-form-item__error{padding-top:2px}.notes{font-size:14px;color:#48576a}.notes .el-table{margin:10px 0}",""])},865:function(t,e,a){var s=a(730);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(525)("5c894b4c",s,!0)},946:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("head-top"),t._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:15,offset:4}},[a("el-form",{ref:"wellsDVTForm",staticClass:"form",attrs:{model:t.wellsDVTForm,"label-width":"110px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.automaticCheckout}},[t._v("根据最后一次评分自动勾选建议评分项")])],1),t._v(" "),t._l(t.assessmentDictList,function(e,s){return a("el-col",{key:s,attrs:{span:12}},[a("div",{staticClass:"scoreHead"},[t._v(t._s(s)+"分")]),t._v(" "),a("el-checkbox-group",{staticClass:"leftRift",model:{value:t.dictPojoLists,callback:function(e){t.dictPojoLists=e},expression:"dictPojoLists"}},t._l(e,function(e){return a("el-checkbox",{key:e.value,attrs:{label:e.value,score:e.score},on:{change:function(a){return t.checkinlist(e)}}},[t._v(t._s(e.label))])}),1)],1)}),t._v(" "),a("el-row",{staticClass:"scoreBottom"}),t._v(" "),a("el-form-item",{staticClass:"scoreCenter",attrs:{label:"可能性："}},[a("span",[t._v(t._s(t.wellsDVTForm.assessmentScore)+"分")]),t._v(" "),a("span",[t._v(t._s(t.wellsDVTForm.assessmentResultExplain)+"可能")])]),t._v(" "),a("div",{staticClass:"notes"},[t._v("注：\n\t\t\t\t\t\t"),a("el-table",{attrs:{data:t.notesData,"max-height":"260",width:"50%",border:""}},[a("el-table-column",{attrs:{prop:"riskScoreName",label:"临床可能性","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"riskScoreShowText",label:"分值","min-width":"150"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12,offset:8}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.saveInfo}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],2)],1)],1)],1)},staticRenderFns:[]}}});